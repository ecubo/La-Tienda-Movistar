function onNotificationAPN(e){if(e.alert&&navigator.notification.alert(e.alert),e.sound){var a=new Media(e.sound);a.play()}e.badge&&pushNotification.setApplicationIconBadgeNumber(successHandler,errorHandler,e.badge)}function onNotification(e){switch($("#app-status-ul").append("<li>EVENT -> RECEIVED:"+e.event+"</li>"),e.event){case"registered":e.regid.length>0&&($("#app-status-ul").append("<li>REGISTERED -> REGID:"+e.regid+"</li>"),console.log("regID = "+e.regid));break;case"message":if(e.foreground){$("#app-status-ul").append("<li>--INLINE NOTIFICATION--</li>");var a=e.soundname||e.payload.sound,i=new Media("/android_asset/www/"+a);i.play()}else $("#app-status-ul").append(e.coldstart?"<li>--COLDSTART NOTIFICATION--</li>":"<li>--BACKGROUND NOTIFICATION--</li>");$("#app-status-ul").append("<li>MESSAGE -> MSG: "+e.payload.message+"</li>"),$("#app-status-ul").append("<li>MESSAGE -> MSGCNT: "+e.payload.msgcnt+"</li>"),$status.append("<li>MESSAGE -> TIME: "+e.payload.timeStamp+"</li>");break;case"error":$("#app-status-ul").append("<li>ERROR -> MSG:"+e.msg+"</li>");break;default:$("#app-status-ul").append("<li>EVENT -> Unknown, an event was received and we do not know what it is</li>")}}function tokenHandler(e){alert("device token = "+e)}$("#app-status-ul").append("<li>registering "+device.platform+"</li>"),"android"==device.platform||"Android"==device.platform||"amazon-fireos"==device.platform?pushNotification.register(successHandler,errorHandler,{senderID:"replace_with_sender_id",ecb:"onNotification"}):"blackberry10"==device.platform?pushNotification.register(successHandler,errorHandler,{invokeTargetId:"replace_with_invoke_target_id",appId:"replace_with_app_id",ppgUrl:"replace_with_ppg_url",ecb:"pushNotificationHandler",simChangeCallback:replace_with_simChange_callback,pushTransportReadyCallback:replace_with_pushTransportReady_callback,launchApplicationOnPush:!0}):pushNotification.register(tokenHandler,errorHandler,{badge:"true",sound:"true",alert:"true",ecb:"onNotificationAPN"}),pushNotification.setApplicationIconBadgeNumber(successCallback,errorCallback,badgeCount),pushNotification.unregister(successHandler,errorHandler,options);